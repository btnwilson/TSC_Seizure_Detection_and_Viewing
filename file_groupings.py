
import os
import itertools
import numpy as np
def find_overlap(list1, list2):
    set1 = set(list1)
    set2 = set(list2)
    overlap = set1.intersection(set2)
    return list(overlap)

def find_all_overlaps(list_of_lists):
    overlaps = []
    for (i, list1), (j, list2) in itertools.combinations(enumerate(list_of_lists), 2):
        overlap = find_overlap(list1, list2)
        if overlap:
            overlaps.append((i, j, overlap))
    return overlaps

def is_subset(smaller_list, bigger_list):
    set_smaller = set(smaller_list)
    set_bigger = set(bigger_list)
    return set_smaller.issubset(set_bigger)

def find_non_elements(smaller_list, bigger_list):
    set_smaller = set(smaller_list)
    set_bigger = set(bigger_list)
    non_elements = set_smaller - set_bigger
    return list(non_elements)

files = os.listdir("EDF Files/")

f87tsc1l3_180 = ["110623_174017_16613.edf", "111023_162313_16613.edf", "111323_072808_16613.edf", "111623_154933_16613.edf",
                 "022924_171811_16745.edf", "030224_151342_16745.edf", "030424_080822_16745.edf", "030524_165056_16745.edf",
                 "030824_085119_16745.edf", "030924_102204_16745.edf", "042924_080428_16786.edf",
                 "052024_090850_16786.edf", "050624_081211_16786.edf", "051325_084117_16786.edf"] 

f87tsc1r4_206 = ["120523_175632_16613.edf", "120623_074050_16613.edf", "041424_114110_16786.edf", "052824_122315_16774.edf",
                 "060324_083037_16774.edf", "061024_080305_16774.edf", "061724_093851_16774.edf"]

f87tsc1r2_225 = ["012224_123322_16774.edf", "012524_173900_16774.edf", "012924_142900_16774.edf", "012924_180034_16774.edf",
                 "013024_072141_16774.edf", "013024_131413_16774.edf", "020224_172212_16774.edf", "020324_081613_16774.edf",
                 "021424_102049_16774.edf", "041424_114110_16729.edf", "042924_075421_16774.edf", "050624_075839_16774.edf",
                 "051325_082715_16774.edf", "052024_083521_16774.edf"]

cmvcre3_136 = ["031824_135749_16613Conf.edf", "031824_143447_16613.edf", "032024_152806_16613.edf", "032524_084213_16613.edf",
               "042224_074255_16613.edf", "042824_132141_16613.edf", "042924_075421_16613.edf", "050624_075839_16613.edf",
               "051325_082715_16613.edf", "052024_083521_16613.edf", "052824_122315_16613.edf", "060324_083037_16613.edf", 
               "061024_080305_16613.edf", "061724_093851_16613.edf", "062424_110603_16613.edf"]

m87tsc1r4_176 = ["110623_174017_16745.edf", "111023_162316_16745.edf", "111323_073808_16745.edf", "111623_154933_16745.edf"]

m87tsc1r2_178 = []

f87tsc1r3_179 = []

m87tsc1r1_199 = []

m87tsc1l4_198 = ["120423_081416_16745.edf", "120523_175632_16745.edf", "120623_074050_16745.edf"]

f87tsc1l5_205 = ["120423_081423_16729.edf", "120523_175642_16729.edf", "031824_92637_16729.edf", "032224_071244_16729.edf",
                 "032424_115401_16729.edf", "032524_085442_16729.edf", "042924_075421_16788.edf", "050224_174043_16788.edf",
                 "050624_075839_16788.edf", "051325_082715_16788.edf", "052024_083521_16788.edf"]

fb6tsc1l5_209 = ["052824_122315_16788.edf", "060324_083037_16788.edf", "061024_080305_16788.edf", "061724_093851_16788.edf", 
                 "062124_173150_16788.edf"]

fb6tsc1r1_210 = []

m87tsc2r3_216 = ["010224_084804_16765.edf"]

f87tsc1r1_195 = ["010224_084804_16774.edf"]

m87tsc3r2_217 = ["010224_084804_16788.edf", "012224_123322_16788.edf"]

m87tsc2r1_219 = ["010824_083700_16774.edf","011224_163709_16774.edf", "011524_113329_16774.edf", "052824_120825_16729.edf",
                 "053024_141920_16729.edf", "060324_090839_16729.edf", "061024_083030_16729.edf", "061724_101154_16729.edf",
                 "062324_113331_16729.edf"]

m87tsc1r3_218 = ["010824_083700_16788.edf", "011124_090223_16788.edf", "011224_163706_16788.edf", "011524_113329_16788.edf",
                 "012224_123322_16765.edf", "012924_142900_16765.edf", "012924_180034_16765.edf", "013024_072141_16765.edf",
                 "013024_131413_16765.edf", "013024_190511_16765.edf", "013124_074002_16765.edf", "020224_072212_16765.edf",
                 "020324_081613_16765.edf", "020324_124303_16765.edf", "060324_090839_16631.edf", "061024_083030_16631.edf",
                 "061724_101154_16631.edf"]

m87tsc3r3_207 = ["010824_083700_16765.edf", "011224_163706_16765.edf", "020524_121424_16745.edf"]

m87tsc2l3_229 = []

m87tsc2l2_220 = ["020524_121452_16631.edf", "052824_129825_16786.edf", "060324_090839_16786.edf", "061024_083030_16786.edf",
                 "061724_101154_16786.edf"]

fd2tsc1r2_228 = []

fd2tsc1l2_227 = []

cmvcre1_114 = ["031824_143447_16765.edf", "032024_131647_16765.edf", "032524_084213_16765.edf", "042224_074255_16765.edf",
               "042824_132141_16765.edf", "050624_075839_16765.edf", "051325_082715_16765.edf", "052024_083521_16765.edf",
               "052124_082444_16765.edf", "052824_122315_16765.edf", "060324_083037_16765.edf", "061024_080305_16765.edf",
               "061724_093851_16765.edf"]

cmvcre2_236 = ["031824_143447_16774.edf", "032024_131647_16774.edf", "032524_084213_16774.edf", "032924_174218_16774.edf",
               "042224_074255_16774.edf"]

md2tsc1l2_235 = ["031824_92637_16729.edf", "032224_071244_16729.edf", "032424_115401_16729.edf", "032524_085442_16729.edf"]

md2tsc1r4_234 = []

fb6tsc2r3_230 = ["031824_92637_16745.edf", "032224_071244_16745.edf", "032424_115401_16745.edf", "032524_085442_16745.edf"]

fb6tsc2r1_231 = ["031824_92637_16786.edf", "032224_071244_16786.edf", "032424_115401_16786.edf", "032524_085442_16786.edf",
                 "060324_090839_16745.edf", "061024_083030_16745.edf", "061724_101154_16745.edf"]

m87tsc1l3_145 = ["042124_122416_16729.edf", "042824_131335_16729.edf", "042924_080428_16729.edf", "050624_081211_16729.edf",
                 "051325_084117_16729.edf", "052024_090850_16729.edf", "052324_114247_16729.edf"]

m87tsc1l2_146 = ["042124_122416_16786.edf"]
                                                                                                    #6
mice = [f87tsc1l3_180, f87tsc1r4_206, f87tsc1r2_225, cmvcre3_136, m87tsc1r4_176, m87tsc1l4_198, f87tsc1l5_205,
                                                                        #11
        fb6tsc1l5_209, m87tsc2r3_216, f87tsc1r1_195, m87tsc3r2_217, m87tsc2r1_219, m87tsc1r3_218, m87tsc3r3_207,
        m87tsc2l2_220, cmvcre1_114, md2tsc1l2_235, cmvcre2_236, fb6tsc2r3_230, fb6tsc2r1_231, m87tsc1l3_145, m87tsc1l2_146]
                                        #16                                                         #20
overlaps = find_all_overlaps(mice)

for mouse in mice:
    test = is_subset(mice[3], files)
    if test == False:
        non_match = find_non_elements(mouse, files)
        print(non_match)
        
all_asigned = np.concatenate(mice)
remaining = set(files) - set(all_asigned)

mice_files = {
    "f87tsc1l3_180": ["110623_174017_16613.edf", "111023_162313_16613.edf", "111323_072808_16613.edf", "111623_154933_16613.edf",
                      "022924_171811_16745.edf", "030224_151342_16745.edf", "030424_080822_16745.edf", "030524_165056_16745.edf",
                      "030824_085119_16745.edf", "030924_102204_16745.edf", "042924_080428_16786.edf",
                      "052024_090850_16786.edf", "050624_081211_16786.edf", "051325_084117_16786.edf"],
    
    "f87tsc1r4_206": ["120523_175632_16613.edf", "120623_074050_16613.edf", "041424_114110_16786.edf", "052824_122315_16774.edf",
                      "060324_083037_16774.edf", "061024_080305_16774.edf", "061724_093851_16774.edf"],
    
    "f87tsc1r2_225": ["012224_123322_16774.edf", "012524_173900_16774.edf", "012924_142900_16774.edf", "012924_180034_16774.edf",
                      "013024_072141_16774.edf", "013024_131413_16774.edf", "020224_172212_16774.edf", "020324_081613_16774.edf",
                      "021424_102049_16774.edf", "041424_114110_16729.edf", "042924_075421_16774.edf", "050624_075839_16774.edf",
                      "051325_082715_16774.edf", "052024_083521_16774.edf"],
    
    "cmvcre3_136": ["031824_135749_16613Conf.edf", "031824_143447_16613.edf", "032024_152806_16613.edf", "032524_084213_16613.edf",
                    "042224_074255_16613.edf", "042824_132141_16613.edf", "042924_075421_16613.edf", "050624_075839_16613.edf",
                    "051325_082715_16613.edf", "052024_083521_16613.edf", "052824_122315_16613.edf", "060324_083037_16613.edf", 
                    "061024_080305_16613.edf", "061724_093851_16613.edf", "062424_110603_16613.edf"],
    
    "m87tsc1r4_176": ["110623_174017_16745.edf", "111023_162316_16745.edf", "111323_073808_16745.edf", "111623_154933_16745.edf"],
    
    "m87tsc1r2_178": [],
    
    "f87tsc1r3_179": [],
    
    "m87tsc1r1_199": [],
    
    "m87tsc1l4_198": ["120423_081416_16745.edf", "120523_175632_16745.edf", "120623_074050_16745.edf"],
    
    "f87tsc1l5_205": ["120423_081423_16729.edf", "120523_175642_16729.edf", "031824_92637_16729.edf", "032224_071244_16729.edf",
                      "032424_115401_16729.edf", "032524_085442_16729.edf", "042924_075421_16788.edf", "050224_174043_16788.edf",
                      "050624_075839_16788.edf", "051325_082715_16788.edf", "052024_083521_16788.edf"],
    
    "fb6tsc1l5_209": ["052824_122315_16788.edf", "060324_083037_16788.edf", "061024_080305_16788.edf", "061724_093851_16788.edf", 
                      "062124_173150_16788.edf"],
    
    "fb6tsc1r1_210": [],
    
    "m87tsc2r3_216": ["010224_084804_16765.edf"],
    
    "f87tsc1r1_195": ["010224_084804_16774.edf"],
    
    "m87tsc3r2_217": ["010224_084804_16788.edf", "012224_123322_16788.edf"],
    
    "m87tsc2r1_219": ["010824_083700_16774.edf","011224_163709_16774.edf", "011524_113329_16774.edf", "052824_120825_16729.edf",
                      "053024_141920_16729.edf", "060324_090839_16729.edf", "061024_083030_16729.edf", "061724_101154_16729.edf",
                      "062324_113331_16729.edf"],
    
    "m87tsc1r3_218": ["010824_083700_16788.edf", "011124_090223_16788.edf", "011224_163706_16788.edf", "011524_113329_16788.edf",
                      "012224_123322_16765.edf", "012924_142900_16765.edf", "012924_180034_16765.edf", "013024_072141_16765.edf",
                      "013024_131413_16765.edf", "013024_190511_16765.edf", "013124_074002_16765.edf", "020224_072212_16765.edf",
                      "020324_081613_16765.edf", "020324_124303_16765.edf", "060324_090839_16631.edf", "061024_083030_16631.edf",
                      "061724_101154_16631.edf"],
    
    "m87tsc3r3_207": ["010824_083700_16765.edf", "011224_163706_16765.edf", "020524_121424_16745.edf"],
    
    "m87tsc2l3_229": [],
    
    "m87tsc2l2_220": ["020524_121452_16631.edf", "052824_129825_16786.edf", "060324_090839_16786.edf", "061024_083030_16786.edf",
                      "061724_101154_16786.edf"],
    
    "fd2tsc1r2_228": [],
    
    "fd2tsc1l2_227": [],
    
    "cmvcre1_114": ["031824_143447_16765.edf", "032024_131647_16765.edf", "032524_084213_16765.edf", "042224_074255_16765.edf",
                    "042824_132141_16765.edf", "050624_075839_16765.edf", "051325_082715_16765.edf", "052024_083521_16765.edf",
                    "052124_082444_16765.edf", "052824_122315_16765.edf", "060324_083037_16765.edf", "061024_080305_16765.edf",
                    "061724_093851_16765.edf"],
    
    "cmvcre2_236": ["031824_143447_16774.edf", "032024_131647_16774.edf", "032524_084213_16774.edf", "032924_174218_16774.edf",
                    "042224_074255_16774.edf"],
    
    "md2tsc1l2_235": ["031824_92637_16729.edf", "032224_071244_16729.edf", "032424_115401_16729.edf", "032524_085442_16729.edf"],
    
    "md2tsc1r4_234": [],
    
    "fb6tsc2r3_230": ["031824_92637_16745.edf", "032224_071244_16745.edf", "032424_115401_16745.edf", "032524_085442_16745.edf"],
    
    "fb6tsc2r1_231": ["031824_92637_16786.edf", "032224_071244_16786.edf", "032424_115401_16786.edf", "032524_085442_16786.edf",
                      "060324_090839_16745.edf", "061024_083030_16745.edf", "061724_101154_16745.edf"],
    
    "m87tsc1l3_145": ["042124_122416_16729.edf", "042824_131335_16729.edf", "042924_080428_16729.edf", "050624_081211_16729.edf",
                      "051325_084117_16729.edf", "052024_090850_16729.edf", "052324_114247_16729.edf"],
    
    "m87tsc1l2_146": ["042124_122416_16786.edf"]
}

